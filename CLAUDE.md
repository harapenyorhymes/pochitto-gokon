# ポチッと合コン MVP 要件定義書

## 1. サービス概要
マッチングアプリ疲れした20代〜30代前半を対象に、ソロ参加も友達参加もOKなWebアプリ。AI幹事が日程調整・グループマッチング・おすすめ店舗提示を代行し、ユーザーは「空いてる日を登録 → グループ成立通知 → 当日お店に行くだけ」のシンプル体験を提供する。

## 2. ターゲット
- **年齢**: 18〜35歳
- **居住地**: 名古屋栄エリア（MVPでは1箇所に限定）
- **特徴**:
  - マッチングアプリ疲れ
  - 面倒な幹事・調整は避けたい
  - 友達と一緒に行きたい or ソロでも気軽に参加したい

## 3. MVP機能スコープ

### 3.1 認証システム
- **認証方式**: メール認証 + LINE連携ログイン
- **理由**: SMS認証は費用がかかるため、MVPでは無料の方式を採用

### 3.2 プロフィール機能
- **必須項目**:
  - 名前（ニックネーム可）
  - 年齢
  - 性別
  - 自己紹介
- **将来追加予定**: 職業、趣味タグ

### 3.3 参加方式選択
- **ソロ参加**: 他のソロユーザーと自動マッチング
- **友達参加**: 代表者が友達を選択して一緒に参加

### 3.4 日程・エリア登録
- **対象エリア**: 名古屋栄エリアのみ
- **日程選択**: 複数日程の希望登録可能
- **グループ構成**: 男女各2-4名を想定

### 3.5 マッチングシステム
- **マッチング条件**:
  - 日程の重複
  - エリア（栄エリア固定）
  - 性別バランス
- **アルゴリズム**: シンプルな条件マッチング（AIは将来実装）

### 3.6 グループチャット
- **機能**: マッチング成立後に自動でチャットルーム作成
- **目的**: 合コン前の最低限のやり取り

### 3.7 通知システム
- **通知方法**: LINE連携
- **通知タイミング**:
  - マッチング成立時
  - 将来：前日・当日リマインド

## 4. 技術スタック

### 4.1 フロントエンド
- **フレームワーク**: Next.js 14.2
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **UI コンポーネント**: Headless UI
- **フォーム**: React Hook Form + Zod
- **状態管理**: Zustand

### 4.2 バックエンド
- **BaaS**: Supabase
  - データベース: PostgreSQL
  - 認証: Supabase Auth
  - リアルタイム: Supabase Realtime（チャット機能）

### 4.3 認証・通知
- **LINE連携**: LINE Login API
- **通知**: LINE Messaging API

### 4.4 インフラ
- **ホスティング**: Vercel
- **バージョン管理**: GitHub

## 5. データベース設計（予定）

### 5.1 主要テーブル
1. **users**: ユーザー情報
2. **profiles**: プロフィール詳細
3. **events**: 合コンイベント
4. **event_participants**: イベント参加者
5. **groups**: マッチングされたグループ
6. **group_chats**: グループチャット
7. **messages**: チャットメッセージ

## 6. 開発フロー

### 6.1 Phase 1: 基盤構築
1. Supabaseプロジェクト作成・設定
2. LINE Developer Console設定
3. データベース設計・作成
4. 認証システム実装

### 6.2 Phase 2: コア機能実装
1. プロフィール機能
2. 日程・エリア登録機能
3. マッチングアルゴリズム
4. グループチャット機能

### 6.3 Phase 3: 統合・テスト
1. LINE通知機能
2. 全体テスト
3. デプロイ準備

## 7. 制約・前提条件

### 7.1 MVP制約
- **地域**: 名古屋栄エリアのみ
- **認証**: SMS認証なし（コスト削減）
- **AI機能**: 将来実装（MVPでは基本的なマッチング）
- **決済**: なし（完全無料）

### 7.2 技術制約
- **開発者**: 初心者レベル（Vercel、Supabase使用経験あり）
- **予算**: 最小限（無料プランの範囲内）
- **期間**: MVP完成目標（具体的な期限は要相談）

## 8. 成功指標（KPI）
- **合コン成立回数**: 月次での成立件数
- **参加率**: マッチング後の実際の参加率
- **ユーザー満足度**: 参加後のフィードバック（簡易アンケート）

## 9. 将来拡張予定
- **エリア拡大**: 東京、大阪、福岡
- **AI機能**: OpenAI APIを使用したマッチング最適化
- **店舗提案**: ホットペッパーグルメ連携
- **評価システム**: ユーザー評価・レベルシステム
- **プレミアムプラン**: 有料機能の追加

## 10. チケット管理・Todo管理

### チケットファイル
機能ごとに分割されたチケットファイルが `docs/` ディレクトリに格納されています：

- `01_環境構築とセットアップ.md`
- `02_データベース設計と構築.md`
- `03_認証システム実装.md`
- `04_プロフィール機能実装.md`
- `05_日程エリア登録機能.md`
- `06_マッチングアルゴリズム実装.md`
- `07_グループチャット機能.md`
- `08_LINE通知機能.md`
- `09_統合テストとデプロイ.md`

### Todo管理ルール
各チケットファイル内でのTodo管理は以下のルールに従います：

**未完了のタスク:**
```markdown
- [ ] タスク内容
```

**完了したタスク:**
```markdown
- [x] タスク内容
```

### 進捗管理
- 各機能の実装開始前に該当チケットファイルを確認
- タスク完了時は `- [ ]` を `- [x]` に変更
- 全てのタスクが完了したら次のチケットに進む
- 問題が発生した場合はチケットファイルに詳細を記録