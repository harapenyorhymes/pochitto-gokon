# 02. データベース設計と構築

## 概要
アプリケーションで使用するデータベーステーブルの設計と作成を行う。

## 作業内容

### データベース設計
- [x] ER図の作成
- [x] 各テーブルの詳細設計
- [x] インデックス設計
- [x] 制約条件の定義

### テーブル作成
- [x] usersテーブル（ユーザー基本情報）
- [x] profilesテーブル（プロフィール詳細）
- [x] eventsテーブル（合コンイベント）
- [x] event_participantsテーブル（イベント参加者）
- [x] groupsテーブル（マッチングされたグループ）
- [x] group_chatsテーブル（グループチャット）
- [x] messagesテーブル（チャットメッセージ）

### RLS（Row Level Security）設定
- [x] 各テーブルのRLSポリシー設定
- [x] ユーザーが自分のデータのみアクセス可能にする設定
- [x] グループメンバーのみチャットにアクセス可能にする設定

### マスターデータ投入
- [x] 名古屋栄エリアの地域データ
- [x] 初期設定データ

## 完了条件
- 全てのテーブルが正しく作成されている
- RLSポリシーが適切に設定されている
- 必要なマスターデータが投入されている
- データベース接続テストが成功する

## テーブル設計概要

### users
- id (UUID, Primary Key)
- email (string, unique)
- line_user_id (string, nullable)
- created_at (timestamp)
- updated_at (timestamp)

### profiles
- id (UUID, Primary Key, FK to users)
- nickname (string)
- age (integer)
- gender (enum: 'male', 'female')
- bio (text)
- created_at (timestamp)
- updated_at (timestamp)